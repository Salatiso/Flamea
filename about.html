<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Flamea - The Story and Mission</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/css/style.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        
        /* Main page layout */
 /* Vertical Timeline Styles */
        .vertical-timeline-container {
            height: 100vh;
            background-color: rgba(17, 24, 39, 0.9);
            padding: 2rem 1rem;
            overflow: hidden;
            border-left: 1px solid #374151;
        }
        .timeline-wrapper { position: relative; height: 100%; }
        .timeline-track { position: absolute; left: 20px; top: 0; height: 100%; width: 4px; background-image: linear-gradient(to bottom, #4f46e5, #10b981, #ef4444, #f59e0b); }
        .timeline-scroller { animation: scroll-vertical 80s linear infinite; }
        .timeline-scroller:hover { animation-play-state: paused; }
        .timeline-point { position: relative; margin-bottom: 120px; padding-left: 50px; cursor: pointer; }
        .timeline-dot { position: absolute; left: 22px; top: 5px; transform: translateX(-50%); width: 16px; height: 16px; background-color: #374151; border: 3px solid #6366f1; border-radius: 50%; z-index: 10; }
        .timeline-point:hover .timeline-dot { transform: translateX(-50%) scale(1.3); background-color: #818cf8; }
        .timeline-content .date { font-family: 'Roboto Slab', serif; font-weight: 700; color: #a5b4fc; }
        @keyframes scroll-vertical { 0% { transform: translateY(0); } 100% { transform: translateY(-100%); } }

        /* Modal Styles */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content { background-color: #1f2937; color: #e5e7eb; padding: 2rem; border-radius: 8px; width: 90%; max-width: 700px; max-height: 80vh; overflow-y: auto; position: relative; transform: scale(0.9); transition: transform 0.3s; }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-close { position: absolute; top: 1rem; right: 1rem; font-size: 1.5rem; cursor: pointer; color: #9ca3af; }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 font-sans min-h-screen">
    <canvas id="bg-canvas" class="fixed top-0 left-0 w-full h-full -z-10"></canvas>

    <div class="page-container relative z-10">
        <!-- Sidebar -->
        <div id="sidebar-container"></div>

        <!-- Main Area (Content + Vertical Timeline) -->
        <div class="main-content-area">
            <!-- Scrollable Main Content -->
            <main class="main-scroll-content">
                <div class="max-w-3xl mx-auto">
                    <h1 class="text-4xl font-bold font-roboto-slab mb-8 text-white text-center">The Story of FLAMEA</h1>
                    
                    <div class="relative timeline-line pl-12">
                        <!-- Mission -->
                        <div class="timeline-item mb-12">
                            <div class="timeline-icon absolute -left-1.5 mt-1.5 h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center"><i class="fas fa-fire"></i></div>
                            <div class="bg-gray-800 bg-opacity-75 rounded-lg p-6">
                                <h3 class="text-2xl font-bold text-blue-400">Our Mission</h3>
                                <p class="text-gray-300 mt-2">To empower fathers by dismantling systemic discrimination in family law, advocating for true equality before the law, and ensuring every child’s right to a meaningful relationship with their father is protected.</p>
                            </div>
                        </div>

                        <!-- Vision -->
                        <div class="timeline-item mb-12">
                             <div class="timeline-icon absolute -left-1.5 mt-1.5 h-8 w-8 bg-green-500 rounded-full flex items-center justify-center"><i class="fas fa-eye"></i></div>
                             <div class="bg-gray-800 bg-opacity-75 rounded-lg p-6">
                                 <h3 class="text-2xl font-bold text-green-400">Our Vision</h3>
                                 <p class="text-gray-300 mt-2">We envision a South African legal system where family courts prioritize the well-being of children above all, and a society where every child can thrive in the care and support of their entire family network, free from gender discrimination.</p>
                             </div>
                        </div>
                        
                        <!-- Values -->
                        <div class="timeline-item mb-12">
                             <div class="timeline-icon absolute -left-1.5 mt-1.5 h-8 w-8 bg-indigo-500 rounded-full flex items-center justify-center"><i class="fas fa-gem"></i></div>
                             <div class="bg-gray-800 bg-opacity-75 rounded-lg p-6">
                                 <h3 class="text-2xl font-bold text-indigo-400 mb-4">Our Core Values: The Builder's Ethos</h3>
                                 <button class="accordion-toggle w-full flex justify-between items-center text-left p-4 bg-gray-700 rounded-lg shadow hover:bg-gray-600">
                                     <span class="font-semibold text-gray-200">The values that guide Flamea are the same that guide all platforms in this ecosystem. They are a commitment to practical, structured, and impactful action.</span>
                                     <i class="fas fa-chevron-down transform text-gray-400"></i>
                                 </button>
                                 <div class="accordion-content">
                                    <!-- Accordion Content -->
                                    <div class="space-y-4 pt-4 border-t border-gray-600 mt-4">
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-sitemap text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Structure:</strong> We build organised, logical, and robust systems.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-cubes text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Assemble:</strong> We bring together disparate parts—data, ideas, people—to create a cohesive whole.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-landmark text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Legacy:</strong> We build upon the legacy of our predecessors, understanding that all progress stands on the shoulders of giants.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-drafting-compass text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Architect:</strong> We design with vision and purpose, planning for the present and the future.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-tools text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Tool-Up:</strong> We empower our users by giving them the right tools and the knowledge to use them effectively.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-lightbulb text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Innovate:</strong> We constantly seek better, more efficient ways to solve problems.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-seedling text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Sustain:</strong> We build things that are meant to last and have a long-term positive impact.</div></div>
                                        <div class="flex items-start"><div class="w-8 text-center mr-4"><i class="fas fa-eye text-2xl text-indigo-300"></i></div><div class="flex-1"><strong class="text-white">Observe:</strong> We pay close attention to the world around us to identify needs and find solutions.</div></div>
                                    </div>
                                 </div>
                             </div>
                        </div>

                        <!-- Call to Action -->
                         <div class="timeline-item">
                            <div class="timeline-icon absolute -left-1.5 mt-1.5 h-8 w-8 bg-red-500 rounded-full flex items-center justify-center"><i class="fas fa-fist-raised"></i></div>
                            <div class="bg-gray-800 bg-opacity-75 rounded-lg p-6">
                                <h3 class="text-2xl font-bold text-red-400">Your Stand</h3>
                                <p class="text-gray-300 mt-2">This is your platform. This is your movement. We are not asking for permission—we are taking our rightful place. Join us and lead the change.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Vertical Timeline Column -->
            <div class="vertical-timeline-container">
                <div class="timeline-wrapper">
                    <div class="timeline-track"></div>
                    <div class="timeline-scroller" id="timeline-scroller">
                        <!-- Vertical timeline points will be injected here by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal for Timeline Details -->
    <div id="timeline-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2 id="modal-title" class="text-2xl font-bold mb-4 border-b border-gray-600 pb-2"></h2>
            <div id="modal-details" class="text-gray-300"></div>
            <div id="modal-references" class="mt-6 pt-4 text-sm border-t border-gray-700">
                <p><strong>Primary Source:</strong> <span id="modal-primary-source"></span></p>
                <p><strong>Secondary Source:</strong> <span id="modal-secondary-source"></span></p>
            </div>
        </div>
    </div>

    <!-- The external data file is now loaded first -->
    <script src="human-history.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Sidebar Loader ---
        fetch('sidebar.html')
            .then(response => response.ok ? response.text() : Promise.reject('Sidebar not found'))
            .then(data => { document.getElementById('sidebar-container').innerHTML = data; })
            .catch(error => console.error('Error loading sidebar:', error));

        // --- Main Content Timeline Animations ---
        const timelineItems = document.querySelectorAll('.main-scroll-content .timeline-item');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, { threshold: 0.1 });
        timelineItems.forEach(item => observer.observe(item));

        // --- Main Content Accordion (Values Section) ---
        const accordionToggle = document.querySelector('.accordion-toggle');
        if (accordionToggle) {
            accordionToggle.addEventListener('click', () => {
                const content = accordionToggle.nextElementSibling;
                accordionToggle.classList.toggle('open');
                content.classList.toggle('open');
            });
        }
        
        // --- VERTICAL TIMELINE & MODAL LOGIC (FUNCTIONAL) ---
        // This section no longer needs the data array hardcoded.
        // It now assumes 'verticalTimelineData' is available from 'human-history.js'
        
        const timelineScroller = document.getElementById('timeline-scroller');
        const modal = document.getElementById('timeline-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalDetails = document.getElementById('modal-details');
        const modalPrimarySource = document.getElementById('modal-primary-source');
        const modalSecondarySource = document.getElementById('modal-secondary-source');
        const closeModalBtn = document.querySelector('.modal-close');

        function createVerticalTimeline() {
            if (!timelineScroller || typeof verticalTimelineData === 'undefined') {
                console.error("Timeline scroller or data not found.");
                return;
            };
            verticalTimelineData.forEach(item => {
                const point = document.createElement('div');
                point.className = 'timeline-point';
                point.innerHTML = `<div class="timeline-dot"></div><div class="timeline-content"><div class="date">${item.date}</div><div class="event">${item.event}</div></div>`;
                
                point.addEventListener('click', () => {
                    modalTitle.textContent = `${item.date}: ${item.event}`;
                    modalDetails.innerHTML = `<p>${item.details}</p>`;
                    
                    modalPrimarySource.innerHTML = item.primarySource.startsWith('http') 
                        ? `<a href="${item.primarySource}" target="_blank" rel="noopener noreferrer" class="text-teal-400 hover:underline">${item.primarySource.split('/')[2]}...</a>`
                        : item.primarySource;

                    modalSecondarySource.innerHTML = item.secondarySource.startsWith('http')
                        ? `<a href="${item.secondarySource}" target="_blank" rel="noopener noreferrer" class="text-teal-400 hover:underline">${item.secondarySource}</a>`
                        : item.secondarySource;

                    modal.classList.add('visible');
                });
                timelineScroller.appendChild(point);
            });
            // Clone for seamless loop
            timelineScroller.innerHTML += timelineScroller.innerHTML;
        }

        // Modal close functionality
        if (modal) {
             closeModalBtn.addEventListener('click', () => modal.classList.remove('visible'));
             modal.addEventListener('click', (e) => {
                 if (e.target === modal) {
                     modal.classList.remove('visible');
                 }
             });
        }
       
        createVerticalTimeline();
        
        // --- NEW BACKGROUND SCRIPT ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particlesArray;

        class Particle {
            constructor(x, y, directionX, directionY, size, color) {
                this.x = x; this.y = y; this.directionX = directionX; this.directionY = directionY; this.size = size; this.color = color;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = 'rgba(173, 216, 230, 0.5)';
                ctx.fill();
            }
            update() {
                if (this.x > canvas.width || this.x < 0) { this.directionX = -this.directionX; }
                if (this.y > canvas.height || this.y < 0) { this.directionY = -this.directionY; }
                this.x += this.directionX;
                this.y += this.directionY;
                this.draw();
            }
        }

        function init() {
            particlesArray = [];
            let numberOfParticles = (canvas.height * canvas.width) / 9000;
            for (let i = 0; i < numberOfParticles; i++) {
                let size = (Math.random() * 2) + 1;
                let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                let directionX = (Math.random() * .4) - .2;
                let directionY = (Math.random() * .4) - .2;
                particlesArray.push(new Particle(x, y, directionX, directionY, size, 'rgba(173, 216, 230, 0.5)'));
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, innerWidth, innerHeight);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
            }
            connect();
        }

        function connect() {
            let opacityValue = 1;
            for (let a = 0; a < particlesArray.length; a++) {
                for (let b = a; b < particlesArray.length; b++) {
                    let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) + ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                    if (distance < (canvas.width / 7) * (canvas.height / 7)) {
                        opacityValue = 1 - (distance / 20000);
                        ctx.strokeStyle = `rgba(147, 197, 253, ${opacityValue})`;
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                        ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                        ctx.stroke();
                    }
                }
            }
        }
        
        window.addEventListener('resize', () => {
            canvas.width = innerWidth;
            canvas.height = innerHeight;
            init();
        });

        init();
        animate();
    });
        </script>
    <script type="module" src="assets/js/main.js"></script>
    <script type="module" src="assets/js/auth.js"></script>
</body>
</html>
