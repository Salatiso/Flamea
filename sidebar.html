<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flamea Sidebar - Fixed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .sidebar-link {
            transition: all 0.3s ease;
        }
        .sidebar-link:hover {
            background-color: rgb(31, 41, 55);
            color: white;
        }
        .sidebar-link-main {
            transition: all 0.3s ease;
        }
        .sidebar-link-main:hover {
            color: white;
        }
        .submenu-toggle {
            transition: all 0.3s ease;
        }
        .submenu-toggle:hover i {
            transform: rotate(180deg);
        }
        .submenu-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .submenu-container.open {
            max-height: 200px;
            display: block;
        }
        .logo-text {
            font-family: 'Inter', sans-serif;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: #1f2937;
            color: white;
            padding: 2rem;
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #9ca3af;
        }
        .close-modal:hover {
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Main container to show sidebar in context -->
    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="p-6 flex flex-col justify-between sidebar-container h-full bg-gray-900 text-gray-300 w-72">
            <!-- Top Section: Logo & Navigation -->
            <div class="sidebar-top">
                <div class="mb-12 flex justify-center">
                    <a href="index.html" class="flamea-logo dark">
                        <svg width="160" height="48" viewBox="0 0 200 60" xmlns="http://www.w3.org/2000/svg" aria-label="Flamea Home">
                            <text class="logo-text" x="0" y="45" font-family="Inter, sans-serif" font-size="50" font-weight="400" fill="white">Flame</text>
                            <g transform="translate(135, 0)">
                                <path d="M18 5 L 0 50 L 8 50 C 12 42, 24 42, 28 50 L 36 50 Z" fill="#4ade80"></path>
                            </g>
                            <line x1="0" y1="58" x2="171" y2="58" stroke="#4ade80" stroke-width="2.5" stroke-linecap="round"></line>
                        </svg>
                    </a>
                </div>
                
                <!-- Main Navigation -->
                <nav id="main-nav" class="flex flex-col space-y-2">
                    <a href="index.html" class="sidebar-link flex items-center p-3 rounded-lg">
                        <i class="fas fa-home w-6 text-center mr-4"></i> Home
                    </a>
                    <a href="about.html" class="sidebar-link flex items-center p-3 rounded-lg">
                        <i class="fas fa-bullseye w-6 text-center mr-4"></i> Our Mission
                    </a>
                    
                    <!-- Tools Hub with Submenu -->
                    <div class="relative" data-menu-item="tools-hub">
                        <div class="flex items-center rounded-lg hover:bg-gray-800">
                            <a href="tools.html" class="sidebar-link-main flex-grow flex items-center p-3">
                                <i class="fas fa-tools w-6 text-center mr-4"></i> Tools Hub
                            </a>
                            <button class="submenu-toggle p-3 pr-4 text-gray-400 hover:text-white" onclick="toggleSubmenu('tools-hub')">
                                <i class="fas fa-chevron-down transition-transform duration-300"></i>
                            </button>
                        </div>
                        <div class="submenu-container pl-8 py-2" id="tools-hub-submenu">
                           <a href="forms.html" class="sidebar-link flex items-center p-2 rounded-lg text-sm">
                               <i class="fas fa-file-alt w-6 text-center mr-3"></i> Forms & Templates
                           </a>
                           <a href="games.html" class="sidebar-link flex items-center p-2 rounded-lg text-sm">
                               <i class="fas fa-gamepad w-6 text-center mr-3"></i> Interactive Games
                           </a>
                        </div>
                    </div>

                    <a href="training.html" class="sidebar-link flex items-center p-3 rounded-lg">
                        <i class="fas fa-book-reader w-6 text-center mr-4"></i> Training Hub
                    </a>
                    <a href="resources.html" class="sidebar-link flex items-center p-3 rounded-lg">
                        <i class="fas fa-book-open w-6 text-center mr-4"></i> Resource Hub
                    </a>
                    <a href="community.html" class="sidebar-link flex items-center p-3 rounded-lg">
                        <i class="fas fa-users w-6 text-center mr-4"></i> Community
                    </a>
                    
                    <div class="border-t border-gray-700 my-2"></div>
                    
                    <!-- Modal Trigger Buttons -->
                    <button data-modal-target="chatbot-modal" class="sidebar-link flex items-center p-3 rounded-lg w-full text-left" onclick="openModal('chatbot-modal')">
                        <i class="fas fa-robot w-6 text-center mr-4 text-purple-400"></i> iSazi: Fatherhood Compass
                    </button>
                    <button data-modal-target="podcast-modal" class="sidebar-link flex items-center p-3 rounded-lg w-full text-left" onclick="openModal('podcast-modal')">
                        <i class="fas fa-podcast w-6 text-center mr-4 text-yellow-400"></i> Flamea Podcast
                    </button>
                    <a href="assessment.html" class="sidebar-link flex items-center p-3 rounded-lg">
                        <i class="fas fa-clipboard-check w-6 text-center mr-4 text-teal-400"></i> Needs Assessment
                    </a>
                </nav>
            </div>

            <!-- Bottom Section: Join, Auth & Copyright -->
            <div class="sidebar-bottom text-center">
                <!-- Join the Movement -->
                <div class="mb-4" data-menu-item="join-movement">
                    <button class="submenu-toggle flex items-center p-3 rounded-lg w-full text-left text-gray-300 hover:bg-gray-800 hover:text-white" onclick="toggleSubmenu('join-movement')">
                        <i class="fas fa-hands-helping w-6 text-center mr-4 text-yellow-400"></i>
                        <span class="flex-grow font-semibold">Join the Movement</span>
                        <i class="fas fa-chevron-down text-xs transition-transform duration-300"></i>
                    </button>
                    <div class="submenu-container text-left text-sm p-4 bg-gray-800 rounded-b-lg" id="join-movement-submenu">
                        <p class="text-gray-400 mb-4">Flamea is built by the community, for the community. See how you can contribute.</p>
                        <a href="join-the-movement.html" class="font-bold text-yellow-400 hover:underline">Learn More &rarr;</a>
                    </div>
                </div>
                
                <!-- Auth Links Section -->
                <div id="sidebar-auth-links" class="mb-4">
                    <!-- This will be populated by auth.js -->
                    <div class="flex flex-col space-y-2">
                        <a href="login.html" class="text-sm text-gray-400 hover:text-white">Sign In</a>
                        <a href="register.html" class="text-sm text-gray-400 hover:text-white">Register</a>
                    </div>
                </div>

                <!-- Copyright Section -->
                <div class="text-xs text-gray-500 leading-relaxed">
                    <span>Â© 2025 Flamea.org</span><br>
                    <span>Powered by <a href="https://salatiso.com/" target="_blank" class="hover:underline text-gray-400">Salatiso</a></span><br>
                    <a href="https://salatiso.com/" target="_blank" class="hover:underline text-gray-400">salatiso.com</a>
                </div>
            </div>
        </aside>

        <!-- Main content area (for demo purposes) -->
        <main class="flex-1 p-8 bg-gray-100">
            <h1 class="text-2xl font-bold text-gray-800 mb-4">Main Content Area</h1>
            <p class="text-gray-600">This is a demo showing the sidebar functionality. Click on the sidebar links to test them.</p>
        </main>
    </div>

    <!-- Modals -->
    <!-- Chatbot Modal -->
    <div id="chatbot-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('chatbot-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-purple-400">
                <i class="fas fa-robot mr-2"></i>iSazi: Fatherhood Compass
            </h2>
            <p class="mb-4">Welcome to iSazi, your AI-powered fatherhood companion. Get personalized advice, tips, and support on your parenting journey.</p>
            <div class="flex space-x-2">
                <button class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded text-white">Start Chat</button>
                <button class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded text-white" onclick="closeModal('chatbot-modal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Podcast Modal -->
    <div id="podcast-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('podcast-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-yellow-400">
                <i class="fas fa-podcast mr-2"></i>Flamea Podcast
            </h2>
            <p class="mb-4">Listen to inspiring stories, expert interviews, and practical advice from the fatherhood community.</p>
            <div class="flex space-x-2">
                <button class="bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded text-white">Listen Now</button>
                <button class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded text-white" onclick="closeModal('podcast-modal')">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Submenu Toggle Function
        function toggleSubmenu(menuItem) {
            const submenu = document.getElementById(menuItem + '-submenu');
            const toggle = document.querySelector(`[data-menu-item="${menuItem}"] .submenu-toggle i`);
            
            if (submenu.classList.contains('open')) {
                submenu.classList.remove('open');
                submenu.style.display = 'none';
                toggle.style.transform = 'rotate(0deg)';
            } else {
                submenu.classList.add('open');
                submenu.style.display = 'block';
                toggle.style.transform = 'rotate(180deg)';
            }
        }

        // Modal Functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('show');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('show');
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    closeModal(modal.id);
                }
            });
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const openModal = document.querySelector('.modal.show');
                if (openModal) {
                    closeModal(openModal.id);
                }
            }
        });

        // Initialize auth state (placeholder)
        document.addEventListener('DOMContentLoaded', function() {
            // This would normally be handled by auth.js
            console.log('Sidebar initialized - auth.js would populate #sidebar-auth-links');
        });
    </script>
</body>
</html>