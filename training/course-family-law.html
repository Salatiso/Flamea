<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLAMEA Training - Family Law Overview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { font-family: 'Open Sans', sans-serif; scroll-behavior: smooth; }
        .main-content { overflow-y: auto; }
        .prose h2 { font-size: 1.8rem; font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem; color: #60A5FA;}
        .prose h3 { font-size: 1.3rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #93C5FD;}
        .prose p { margin-bottom: 1rem; line-height: 1.7; font-size: 1.1rem; }
        .prose strong { color: #93C5FD; }
        .prose ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose a { color: #60A5FA; text-decoration: underline; }
        .quiz-option { cursor: pointer; transition: background-color 0.2s; border: 2px solid #4B5563; }
        .quiz-option:hover { background-color: #374151; }
        .quiz-option.selected { background-color: #2563EB; border-color: #3B82F6; }
        .module { display: none; }
        .module.active { display: block; }
        .quiz-section { display: none; }
        .quiz-section.active { display: block; }
        .certificate-modal { display: none; }
        .certificate-modal.active { display: flex; }
        .progress-bar-container { background-color: #4B5563; }
        .progress-bar-fill { background-color: #3B82F6; transition: width 0.5s ease-in-out; }
        .feedback { display: none; margin-top: 0.5rem; padding: 0.75rem; border-radius: 0.375rem; font-size: 0.9rem; }
        .feedback.correct { background-color: rgba(59, 130, 246, 0.2); border: 1px solid #3B82F6; color: white; }
    </style>
</head>
<body class="dark text-white">
    <div class="flex h-screen">
        <!-- Sidebar Container -->
        <div id="sidebar-container"></div>
            
            <div id="course-hub" class="max-w-4xl mx-auto text-center">
                <header class="mb-12">t-4xl md:text-5xl font-bold font-roboto-slab text-white">Family Law Overview</h1>t-4xl md:text-5xl font-bold font-roboto-slab text-white">Family Law Overview</h1>
                     <div class="flex justify-center items-center gap-4 mb-4">
                        <!-- SVG Icon for Family Law -->
                        <svg class="h-20 w-20 text-blue-400" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C7.93 2 4.51 5.36 4.51 9.5C4.51 14.14 8.71 18.81 11.53 21.41C11.83 21.68 12.17 21.68 12.47 21.41C15.29 18.81 19.49 14.14 19.49 9.5C19.49 5.36 16.07 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
                        </svg>
                        <h1 class="text-4xl md:text-5xl font-bold font-roboto-slab text-white">Family Law Overview</h1>
                    </div>
                    <p class="text-lg text-gray-300">Understand the laws governing marriage, divorce, and domestic partnerships.</p>
                </header>

                <section id="module-selection-section">
                    <h2 class="text-2xl font-bold text-center text-orange-400 mb-6">Choose a Module to Begin</h2>
                    <div id="module-selection" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="module-card bg-slate-800/80 p-6 rounded-xl cursor-pointer" data-module="1">
                            <h3 class="text-xl font-bold text-white mb-2">Marriage Regimes</h3>
                            <p class="text-gray-400 text-sm">Learn the critical differences between In and Out of Community of Property.</p>
                        </div>
                        <div class="module-card bg-slate-800/80 p-6 rounded-xl cursor-pointer" data-module="2">
                            <h3 class="text-xl font-bold text-white mb-2">The Divorce Process</h3>
                            <p class="text-gray-400 text-sm">Understand the steps involved in dissolving a marriage legally in South Africa.</p>
                        </div>
                        <div class="module-card bg-slate-800/80 p-6 rounded-xl cursor-pointer" data-module="3">
                            <h3 class="text-xl font-bold text-white mb-2">Maintenance & Protection</h3>
                            <p class="text-gray-400 text-sm">Learn about the laws governing child maintenance and protection orders.</p>
                        </div>
                    </div>
                </section>
            </div>
            
            <!-- Course Content & Quiz Area (Initially Hidden) -->
            <div id="content-area" class="w-full max-w-4xl mx-auto hidden">
                <div id="module-content" class="prose max-w-none prose-invert mb-8 bg-slate-800/70 p-6 rounded-lg"></div>
                <button id="start-quiz-btn" class="btn btn-primary w-full">Test Your Knowledge</button>
                <section id="quiz-section" class="quiz-section mt-8 p-8 rounded-lg hidden"></section>
                <div id="end-screen" class="end-screen mt-8 p-8 rounded-lg hidden text-center"></div>
                <button id="back-to-hub-btn" class="btn btn-secondary mt-4">Back to Modules</button>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script type="module" src="../assets/js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Main UI elements
        const courseHub = document.getElementById('course-hub');
        const contentArea = document.getElementById('content-area');
        const moduleContentEl = document.getElementById('module-content');
        const quizSection = document.getElementById('quiz-section');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const backToHubBtn = document.getElementById('back-to-hub-btn');
        const endScreen = document.getElementById('end-screen');
        const moduleCards = document.querySelectorAll('.module-card');

        // Course Content and Questions
        const courseContent = {
            1: {
                title: 'Module 1: Understanding Marriage Regimes in South Africa',
                content: `
                    <p>One of the first and most critical decisions a couple makes is their <strong>marital regime</strong>. This choice has significant financial consequences, especially during a divorce. In South Africa, there are three main types.</p>
                    <h3>Types of Marriages</h3>
                    <ul>
                        <li><strong>Civil Marriage:</strong> A monogamous marriage governed by the Marriage Act.</li>
                        <li><strong>Civil Union:</strong> Allows same-sex or opposite-sex couples to enter into a legal union with the same consequences.</li>
                        <li><strong>Customary Marriage:</strong> A marriage concluded according to indigenous African customary law.</li>
                    </ul>
                    <h3>Financial Consequences</h3>
                    <p>If you do not sign an Antenuptial Contract (ANC) before getting married, you are automatically married <strong>In Community of Property</strong>. This means all assets and debts are shared equally. The other options, created via an ANC, are <strong>Out of Community of Property</strong> (with or without the accrual system).</p>
                `,
                questions: [
                    { q: "If a couple marries without an Antenuptial Contract (ANC), what is their default marital regime?", a: "In Community of Property", o: ["Out of Community of Property", "A Civil Union"] },
                    { q: "Which Act governs marriages for same-sex couples?", a: "The Civil Union Act", o: ["The Marriage Act", "The Customary Marriages Act"] }
                ]
            },
            2: {
                title: 'Module 2: The Divorce Process',
                content: `
                    <p>The divorce process in South Africa is governed by the Divorce Act. It is a no-fault system, meaning you do not need to prove that your spouse did something wrong; you only need to state that the marriage has broken down irretrievably.</p>
                    <h3>Key Steps</h3>
                    <ul>
                        <li><strong>Summons:</strong> One spouse (the Plaintiff) serves a divorce summons on the other (the Defendant).</li>
                        <li><strong>Pleadings:</strong> The Defendant can then file a notice to defend and a plea.</li>
                        <li><strong>Settlement or Trial:</strong> Most divorces are settled out of court. If an agreement on the division of assets and care of children can be reached, it is made an order of the court. If not, the matter proceeds to trial.</li>
                    </ul>
                    <h3>Role of the Family Advocate</h3>
                    <p>If there are minor children involved, the Family Advocate's office must be involved. Their role is to investigate the circumstances and make a recommendation to the court based on the <strong>child's best interests</strong>.</p>
                `,
                questions: [
                    { q: "Does South Africa have a 'no-fault' divorce system?", a: "Yes, you only need to prove the marriage has broken down.", o: ["No, you must prove your spouse was at fault.", "Only for civil unions."] },
                    { q: "Whose role is it to represent the child's best interests in a divorce?", a: "The Family Advocate", o: ["The Plaintiff's lawyer", "The Judge"] }
                ]
            },
            3: {
                title: 'Module 3: Maintenance & Protection',
                content: `
                    <h3>Child Maintenance</h3>
                    <p>Both parents have a legal duty to support their children financially according to their respective means. This is governed by the Maintenance Act. If a parent fails to pay, the other can approach the Maintenance Court for an order.</p>
                    <h3>Spousal Maintenance</h3>
                    <p>In some cases, a court may order one spouse to pay maintenance to the other after a divorce. This is not automatic and depends on factors like age, earning capacity, and the standard of living during the marriage.</p>
                    <h3>Protection Orders</h3>
                    <p>The Domestic Violence Act provides protection for victims of domestic abuse. A person can apply to the court for a protection order, which can prevent the abuser from contacting or coming near them. Violating a protection order is a criminal offence.</p>
                `,
                questions: [
                    { q: "Who has a legal duty to financially support a child?", a: "Both parents, according to their means", o: ["Only the father", "Only the parent the child lives with"] },
                    { q: "What Act provides protection for victims of domestic abuse?", a: "The Domestic Violence Act", o: ["The Divorce Act", "The Maintenance Act"] }
              </div>
                     <!-- Other modules and quizzes follow -->
                </div>
            </div>
        </main>
    </div>
    <script type="module" src="../assets/js/auth.js"></script>
    <script type="module" src="../assets/js/course-logic.js"></script>
    <!-- Added scripts for unified sidebar and background -->
    <script src="../assets/js/sidebar-loader.js"></script>
    <script src="../assets/js/ma
</body>
</html>
