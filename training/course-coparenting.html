<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLAMEA Training - Co-Parenting 101</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { font-family: 'Open Sans', sans-serif; scroll-behavior: smooth; }
        .main-content { overflow-y: auto; }
        .prose h2 { font-size: 1.8rem; font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem; color: #60A5FA;}
        .prose h3 { font-size: 1.3rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #93C5FD;}
        .prose p { margin-bottom: 1rem; line-height: 1.7; font-size: 1.1rem; }
        .prose strong { color: #93C5FD; }
        .prose ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose a { color: #60A5FA; text-decoration: underline; }
        .quiz-option { cursor: pointer; transition: background-color 0.2s; border: 2px solid #4B5563; }
        .quiz-option:hover { background-color: #374151; }
        .quiz-option.selected { background-color: #2563EB; border-color: #3B82F6; }
        .module { display: none; }
        .module.active { display: block; }
        .quiz-section { display: none; }
        .quiz-section.active { display: block; }
        .certificate-modal { display: none; }
        .certificate-modal.active { display: flex; }
        .progress-bar-container { background-color: #4B5563; }
        .progress-bar-fill { background-color: #3B82F6; transition: width 0.5s ease-in-out; }
        .feedback { display: none; margin-top: 0.5rem; padding: 0.75rem; border-radius: 0.375rem; font-size: 0.9rem; }
        .feedback.correct { background-color: rgba(59, 130, 246, 0.2); border: 1px solid #3B82F6; color: white; }
    </style>
</head>
<body class="dark text-white">
    <div class="flex h-screen">
        <!-- Sidebar Container -->
        <div id="sidebar-container"></div>
            
            <div id="course-hub" class="max-w-4xl mx-auto text-center">
                <header class="mb-12">
                    <div class="flex justify-center items-center gap-4 mb-4">
                        <!-- SVG Icon for Co-Parenting -->
                        <svg class="h-20 w-20 text-yellow-400" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.5 12c1.38 0 2.5-1.12 2.5-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"/>
                        </svg>
                        <h1 class="text-4xl md:text-5xl font-bold font-roboto-slab text-white">Co-Parenting 101</h1>
                    </div>
                    <p class="text-lg text-gray-300">Master the art of raising a child with your co-parent, even after separation.</p>
                </header>

                <section id="module-selection-section">
                    <h2 class="text-2xl font-bold text-center text-orange-400 mb-6">Choose a Module to Begin</h2>
                    <div id="module-selection" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="module-card bg-slate-800/80 p-6 rounded-xl cursor-pointer" data-module="1">
                            <h3 class="text-xl font-bold text-white mb-2">The Foundation</h3>
                            <p class="text-gray-400 text-sm">Understand the core principle of putting your child's best interests first.</p>
                        </div>
                        <div class="module-card bg-slate-800/80 p-6 rounded-xl cursor-pointer" data-module="2">
                            <h3 class="text-xl font-bold text-white mb-2">Communication & Conflict</h3>
                            <p class="text-gray-400 text-sm">Learn strategies for objective communication and resolving disagreements effectively.</p>
                        </div>
                        <div class="module-card bg-slate-800/80 p-6 rounded-xl cursor-pointer" data-module="3">
                            <h3 class="text-xl font-bold text-white mb-2">The Parenting Plan</h3>
                            <p class="text-gray-400 text-sm">Discover how to create a structured and fair plan that works for everyone.</p>
                        </div>
                    </div>
                </section>
            </div>
            
            <div id="content-area" class="w-full max-w-4xl mx-auto hidden">
                <div id="module-content" class="prose max-w-none prose-invert mb-8 bg-slate-800/70 p-6 rounded-lg"></div>
                <button id="start-quiz-btn" class="btn btn-primary w-full">Test Your Understanding</button>
                <section id="quiz-section" class="quiz-section mt-8 p-8 rounded-lg hidden"></section>
                <div id="end-screen" class="end-screen mt-8 p-8 rounded-lg hidden text-center"></div>
                <button id="back-to-hub-btn" class="btn btn-secondary mt-4">Back to Modules</button>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script type="module" src="../assets/js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const courseHub = document.getElementById('course-hub');
        const contentArea = document.getElementById('content-area');
        const moduleContentEl = document.getElementById('module-content');
        const quizSection = document.getElementById('quiz-section');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const backToHubBtn = document.getElementById('back-to-hub-btn');
        const endScreen = document.getElementById('end-screen');
        const moduleCards = document.querySelectorAll('.module-card');

        const courseContent = {
            1: {
                title: 'Module 1: The Foundation of Effective Co-Parenting',
                content: `
                    <p>Co-parenting is not about your relationship with your ex-partner; it is about your <strong>shared relationship with your child</strong>. It requires shifting your focus from being romantic partners to being parenting partners. The goal is to provide a stable, loving, and consistent environment for your child, free from the conflict of the adult relationship.</p>
                    <h3>The Golden Rule: Child's Best Interests</h3>
                    <p>Every decision you make as co-parents must be guided by one question: <strong>What is in the best interests of our child?</strong> This aligns directly with Section 28 of the Constitution. It means putting aside personal feelings, ego, and past grievances to focus solely on what will help your child thrive.</p>
                `,
                questions: [
                    { q: "What is the primary focus of co-parenting?", a: "The shared relationship with the child", o: ["Winning arguments against the other parent", "Revisiting past relationship issues"] },
                    { q: "What is the 'Golden Rule' of co-parenting?", a: "Always asking what is in the child's best interests", o: ["Making sure everything is split 50/50", "Doing whatever the child wants"] }
                ]
            },
            2: {
                title: 'Module 2: Communication & Conflict',
                content: `
                    <h3>Business-Like Communication</h3>
                    <p>Treat your co-parenting communication like a business partnership. Keep it respectful, factual, and focused on the child. Avoid emotional language, blame, and bringing up old arguments. Use tools like shared calendars and communication apps to keep things organized and documented.</p>
                    <h3>Conflict Resolution</h3>
                    <p>Disagreements are inevitable. The key is how you handle them. Always discuss major decisions away from the children. If you cannot agree, consider mediation before litigation. The goal is to find a solution, not to win a fight.</p>
                `,
                questions: [
                    { q: "What is the recommended communication style for co-parenting?", a: "Respectful and business-like", o: ["Emotional and accusatory", "Only through lawyers"] },
                    { q: "If you and your co-parent disagree on a major decision, what is a good first step?", a: "Consider mediation", o: ["Argue in front of the child", "Immediately go to court"] }
                ]
            },
            3: {
                title: 'Module 3: The Parenting Plan',
                content: `
                    <h3>Why You Need a Plan</h3>
                    <p>A detailed Parenting Plan is your roadmap. It minimizes conflict by setting clear expectations for both parents. It should be a comprehensive document that covers schedules, holidays, decision-making, communication, and finances.</p>
                    <h3>Key Components</h3>
                    <ul>
                        <li><strong>Residential Schedule:</strong> Clearly outline where the child will be on which days.</li>
                        <li><strong>Decision-Making:</strong> Specify how major decisions about education, health, and religion will be made (jointly or by one parent).</li>
                        <li><strong>Communication Protocol:</strong> Set rules for how and when you will communicate about the child.</li>
                    </ul>
                    <p>The Flamea Parenting Plan Builder is designed to help you create a thorough, fair, and legally sound plan.</p>
                `,
                questions: [
                    { q: "What is the primary purpose of a Parenting Plan?", a: "To minimize conflict by setting clear expectations", o: ["To list all the other parent's faults", "To ensure one parent has all the control"] },
                    { q: "What is a key component that should be included in a Parenting Plan?", a: "A clear residential schedule for the child", o: ["A list of past arguments", "Rules for the other parent's personal life"] }
                ]
            }
       </div>
                        </section>
                        <button id="start-quiz1" class="w-full bg-green-600 hover:bg-green-700 font-bold py-3 rounded-lg text-lg mt-8">Start Module 1 Quiz</button>
                    </div>
                     <!-- Other modules and quizzes follow -->
                </div>
            </div>
        </main>
    </div>
    <script type="module" src="../assets/js/auth.js"></script>
    <script type="module" src="../assets/js/course-logic.js"></script>
    <!-- Added scripts for unified sidebar and background -->
    <script src="../assets/js/sidebar-loader.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>
