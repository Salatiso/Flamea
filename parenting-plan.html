<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ultimate Family Management Tool - Flamea</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        :root {
            --header-font: 'Roboto Slab', serif;
            --body-font: 'Roboto', sans-serif;
        }

        /* Animated Gradient Background from index.html */
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .animated-gradient {
            background: linear-gradient(-45deg, #1a202c, #2d3748, #4a5568, #2d3748);
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
        }

        /* General Styling */
        body {
            font-family: var(--body-font);
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--header-font);
        }
        .form-input, .form-select, .form-textarea {
            @apply w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-green-500 focus:border-green-500 transition-colors;
        }
        .btn {
            @apply py-2 px-4 rounded-lg font-semibold transition-all duration-300 ease-in-out;
        }
        .btn-primary {
            @apply bg-green-600 text-white hover:bg-green-700 shadow-lg;
        }
        .btn-secondary {
            @apply bg-gray-600 text-white hover:bg-gray-700;
        }
        .btn-danger {
             @apply bg-red-600 text-white hover:bg-red-700;
        }
        .card {
            @apply bg-gray-800 bg-opacity-80 backdrop-blur-sm p-6 rounded-xl shadow-2xl border border-gray-700;
        }
        
        /* Section Hub styles */
        .hub-card {
            @apply bg-gray-700 p-6 rounded-lg text-center cursor-pointer transition-all duration-300 ease-in-out hover:bg-green-700 hover:shadow-2xl hover:scale-105;
        }
        .hub-card i {
            @apply text-4xl mb-4 text-green-400;
        }
        .hub-card h3 {
            @apply text-xl font-bold text-white;
        }
        
        /* Modal styles */
        .modal-overlay {
            @apply fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 transition-opacity;
        }
        .modal-content {
            @apply bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col;
        }
        .modal-header {
             @apply p-4 border-b border-gray-700 flex justify-between items-center;
        }
        .modal-body {
            @apply p-6 overflow-y-auto;
        }
        .modal-footer {
            @apply p-4 border-t border-gray-700 flex justify-end space-x-4;
        }

        /* FullCalendar Customizations */
        .fc {
            background-color: #2d3748;
            color: white;
        }
        .fc .fc-toolbar-title { font-size: 1.5em; }
        .fc .fc-button-primary { background-color: var(--primary-color); border-color: var(--primary-color); }
        .fc .fc-daygrid-day-number { color: #a0aec0; }
        .fc .fc-day-today { background-color: rgba(79, 70, 229, 0.2); }
        .fc-event { border-radius: 4px; padding: 2px; }
    </style>
</head>

<body class="animated-gradient text-gray-200">

    <div class="main-container flex min-h-screen">
        <!-- Standardized Sidebar Placeholder -->
        <div id="sidebar-placeholder"></div>

        <!-- Main Content Area -->
        <main class="main-content flex-1 p-4 md:p-8">
            <div id="parenting-plan-tool">
                <!-- Header -->
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold text-white">The Ultimate Family Management Tool</h1>
                    <p class="text-lg text-gray-300 mt-2">A live, collaborative tool to build your parenting plan and track family activities.</p>
                     <p class="text-sm text-gray-500 mt-2">Plan ID: <span id="plan-id-display">Not Saved</span> | User ID: <span id="user-id-display">Not Logged In</span></p>
                </div>

                <!-- Section Navigation Hub -->
                <div id="section-hub" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="hub-card" data-section="parties">
                        <i class="fas fa-users"></i>
                        <h3>The Parties & Children</h3>
                    </div>
                    <div class="hub-card" data-section="schedule">
                        <i class="fas fa-calendar-alt"></i>
                        <h3>Contact Schedule</h3>
                    </div>
                    <div class="hub-card" data-section="finances">
                        <i class="fas fa-hand-holding-usd"></i>
                        <h3>Financial Contributions</h3>
                    </div>
                     <div class="hub-card" data-section="communication">
                        <i class="fas fa-comments"></i>
                        <h3>Communication Plan</h3>
                    </div>
                    <div class="hub-card" data-section="activity-tracker">
                        <i class="fas fa-chart-line"></i>
                        <h3>Family Activity Log</h3>
                    </div>
                     <div class="hub-card" data-section="finalize">
                        <i class="fas fa-file-signature"></i>
                        <h3>Finalise & Pledge</h3>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Section Editor Modal -->
    <div id="section-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title" class="text-2xl font-bold text-white"></h2>
                <button id="close-modal-btn" class="text-gray-400 hover:text-white">&times;</button>
            </div>
            <div id="modal-body" class="modal-body">
                <!-- Section content will be injected here by JS -->
            </div>
            <div class="modal-footer">
                <button id="save-section-btn" class="btn btn-primary">Save and Close</button>
            </div>
        </div>
    </div>
    
    <!-- Templates for Dynamic Content -->
    <template id="section-parties-template">
        <!-- Form content for The Parties & Children -->
    </template>
    
    <template id="section-schedule-template">
         <h3 class="text-xl font-bold mb-4 text-green-400">Custody & Living Arrangements</h3>
         <select id="custody-status" class="form-select mb-4">
            <option>We have a mutual agreement</option>
            <option>We are in dispute</option>
            <option>There is a court order in place</option>
        </select>
        <textarea id="custody-details" class="form-textarea" placeholder="Briefly describe the primary residence and care arrangements..."></textarea>
        <h3 class="text-xl font-bold my-6 text-green-400">Interactive Contact Schedule</h3>
        <div id='calendar' class="bg-gray-700 p-4 rounded-lg"></div>
    </template>

    <!-- Other templates for finances, communication, etc. will go here -->
    
    <!-- PDF Output container (hidden) -->
    <div id="pdf-output" class="hidden"></div>
    
    <!-- Core Application Logic -->
    <script src="./assets/js/parenting-plan-builder.js" type="module"></script>
</body>
</html>
