Flamea Parenting Plan Tool: Detailed Specification (Version 2.0)1.0 General Principles & User ExperienceCore Philosophy: The tool is a "live document" designed to foster positive, equitable co-parenting. It is not just for dispute resolution but for proactively managing and celebrating the parenting journey.Empathetic Nudging: The system will provide gentle, encouraging feedback.Positive Reinforcement: "Superdad" (and "Supermom") messages will appear for consistent positive actions (e.g., logging activities, maintaining a balanced schedule, meeting financial agreements).Supportive Nudges: When imbalances are detected (e.g., custody time skewed >10%, one parent covering significantly more costs), the tool will display non-judgmental prompts encouraging communication and re-balancing. Special empathy will be shown if a user indicates custody is "In Dispute."User-Centric Design: All dropdown menus will include an "Other" option that, when selected, reveals a text input field for custom entries. The UI will be clean, intuitive, and guided.2.0 Overall LayoutFixed Layout Issue: The main content area will be correctly positioned next to the sidebar, eliminating the current alignment problem and creating a proper dashboard feel.Multi-Step Wizard: The process will be broken down into clear, manageable steps.3.0 Feature Breakdown by StepStep 1: The Parties & The ChildrenParent/Guardian Roles:"Parent A" and "Parent B" will be replaced by dropdowns.Default selections will be "Father" and "Mother".The dropdown list will include: Father, Mother, Grandfather, Grandmother, Uncle, Aunt, Legal Guardian, Other. This caters to same-sex couples and the reality of extended family caregiving in South Africa.Address Fields:Each parent/guardian section will have a "Residential Address" field.A checkbox labeled "Postal address is different" will be included. If checked, a "Postal Address" field will appear.Google Maps Integration: An icon next to each address field will open a map interface allowing the user to search for or drop a pin at their precise location. This will auto-fill the address and store the coordinates for distance calculations.Child Information:For each child, a checkbox labeled "Child resides at a different address" will be added.If checked, fields for "Primary Residential Address," "Primary Contact Person," and "Contact Person's Number" will appear for that child.Step 2: Custody & Contact ScheduleCustody Dashboard: This step will open with a visual dashboard.A primary slider will represent the overall physical custody split, defaulting to 50/50.Custody Determination:Physical Custody: A question will ask "Who has primary physical custody of [Child's Name]?" with a dropdown of the named parents/guardians and an "Other" option. This question will be repeated for each child added in Step 1.Basis of Agreement: A crucial new question: "How was this custody arrangement decided?" with a dropdown: Mutual Agreement, Court Order, In Dispute.A date field for "Date of Agreement/Order" will be present.A textarea for "Notes/Details" will be available for all options.Visitation Calendar & Calculator:The FullCalendar.js component will be enhanced.Event Creation: Users can add:Recurring Events: (e.g., "Every other weekend," "Tuesdays & Thursdays").One-Time Events: (e.g., "Holiday: 24-28 Dec," "Impromptu visit: 2 hours").The bug preventing the creation of multi-day events will be fixed.Time Calculation: The system will automatically calculate, down to the hour, the total time each parent spends with the child based on all calendar entries.Visual Feedback: The custody dashboard slider will dynamically update based on the calendar data. A color-coded warning system will be implemented:Green (Balanced): Within a 10% deviation of 50/50.Yellow (Slight Imbalance): 11-20% deviation.Red (Significant Imbalance): >20% deviation. (With gentle nudges).Export/Share: Buttons will be added to "Export Calendar (.ics)" and "Share Calendar," which will generate a link or email draft.Positive Events: An option to tag an event as "Positive Activity" (e.g., "Homeschooling Expo") will be available, triggering encouraging messages.Step 3: Communication PlanThis step will be updated to include two distinct sections:1. Primary Communication: For routine scheduling and updates.2. Escalation/Emergency Communication: For urgent matters.For each section, the user can define the Method (e.g., Phone Call, WhatsApp, Email), the designated Contact Person, Contact Number, and Email Address.Step 4: Expense & Benefit Tracker (NEW STEP)Expense Dashboard: This step will feature a dashboard visually representing the financial contribution split, with a slider defaulting to 50/50.Income (Optional): A field will allow parents to optionally enter their monthly income to calculate expense ratios.Expense Categories: Pre-populated categories (Education, Healthcare, Living Expenses, Extracurricular, Other) will be provided. Each category will start with 5 editable line items. Users can add or remove items.Line Item Details: Each row will have fields for Expense Description, Cost, Type (dropdown: Budget vs. Actual), and Date.Receipt Upload: If Type is "Actual," a button will appear to "Upload Proof of Purchase" (this will open a file dialog; actual upload functionality requires a backend).Source of Budget: A dropdown will ask who determined the budget: Parent A, Parent B, or Joint Agreement.State Benefits: A dedicated section will ask: "Does the child receive a social grant or other state/community welfare?"If "Yes," fields for Type of Grant, Amount, Start Date, and Conditions will appear.Calculation Logic: Any grant amount will be added to a "Child's Benefit Fund" and will be considered as a 50/50 contribution from both parents toward expenses, reflecting that it's a societal contribution.Step 5: Event Logger (NEW STEP)A simple interface to log significant events.Fields: Date of Event, Event Type (dropdown: Positive Event, Disagreement, Milestone, Medical Issue, Other), Details (textarea), Attach Document (file input).A running list of logged events will be displayed.Step 6: Additional Notes (NEW STEP)A large textarea for users to add any final thoughts, clarifications, or context before the review.Step 7: Final Review & Document GenerationDisclaimer: A modal window will appear with the disclaimer text. The user must check a box to "Agree and Continue."Review Section: The full, collated parenting plan will be displayed for final review.Document Generation: A "Generate & Download" button will trigger a print-friendly version of the plan.This output will be formatted using the provided templates, including the Flamea cover page, all the plan details, and the Flamea back cover page.It will automatically include headers, footers with page numbers, and a unique, auto-generated reference number (e.g., FLAMEA-PP-YYYYMMDD-XXXX).