<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLAMEA - Publications</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            overflow: hidden; /* Prevent body scrolling */
            font-family: 'Open Sans', sans-serif;
        }

        /* Dynamic Animated Gradient Background */
        body {
            background: linear-gradient(-45deg, #0d1117, #161b22, #0d1117, #21262d);
            background-size: 400% 400%;
            animation: gradientBG 25s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .main-container {
            display: flex;
            height: 100vh;
        }

        .main-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-area {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Center the carousel vertically */
        }
        
        .swiper-container {
            width: 100%;
            padding-top: 50px;
            padding-bottom: 50px;
        }

        .swiper-slide {
            background-position: center;
            background-size: cover;
            width: 300px;
            height: 450px;
        }
        
        /* Card Flip Styles */
        .flip-card {
            background-color: transparent;
            width: 280px;
            height: 420px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .flip-card.is-flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            border-radius: 8px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
            border: 1px solid #30363d;
        }

        .flip-card-front img, .flip-card-front .svg-cover {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        .flip-card-back {
            background-color: #161b22;
            color: #c9d1d9;
            transform: rotateY(180deg);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fde047; /* yellow-300 from user snippet */
        }
        
        .book-title-back {
            font-family: 'Roboto Slab', serif;
            font-weight: 700;
        }

        .read-btn {
            background-color: #238636;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            transition: background-color 0.3s;
            display: inline-block;
            margin-top: 1rem;
            border: 1px solid #2ea043;
        }
         .read-btn:hover {
            background-color: #2ea043;
        }
    </style>
</head>
<body class="text-gray-200">
    <div class="main-container">
        <!-- Sidebar Placeholder -->
        <div id="sidebar-placeholder"></div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="max-w-7xl mx-auto flex flex-col h-full p-6 md:p-8">
                <div class="text-center mb-8">
                    <h1 class="text-4xl md:text-5xl font-bold font-roboto-slab text-white mb-3">The FLAMEA Library</h1>
                    <p class="text-lg text-gray-400">Essential reading for the modern father. Arm yourself with wisdom.</p>
                </div>

                <!-- Flex container for carousel -->
                <div class="content-area">
                    <!-- Book Carousel -->
                    <div class="swiper swiper-container">
                        <div class="swiper-wrapper" id="carousel-wrapper">
                            <!-- Slides will be injected by JavaScript -->
                        </div>
                        <!-- Navigation Buttons -->
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </div>

                 <!-- Footer area within main content for no-scroll layout -->
                <div class="mt-auto pt-4 text-center">
                    <div class="text-box rounded-lg p-4 max-w-4xl mx-auto">
                        <div id="expander-1" class="expander">
                            <div class="expander-title text-xl font-bold text-white">
                                <span>Access the Works & Licensing</span>
                                <i class="fas fa-chevron-down expander-icon"></i>
                            </div>
                            <div class="expander-content pt-4 text-left">
                                <p class="text-center text-gray-400 mb-6">Our books are available across multiple platforms to ensure you can engage with these vital ideas in the format that suits you best.</p>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700">
                                        <h4 class="font-bold text-lg mb-2 text-blue-400 flex items-center"><i class="fas fa-book-open mr-2"></i>Where to Find Them</h4>
                                        <p class="mb-3 text-sm">For e-books and audiobooks, visit the Salatiso author page on Google Play.</p>
                                        <a href="https://play.google.com/store/search?q=salatiso&c=books" target="_blank" class="text-green-400 hover:text-green-300 transition-colors text-sm"><i class="fab fa-google-play mr-2"></i>Google Play Store</a>
                                        <p class="mt-3 mb-3 text-sm">For free audiobook versions, subscribe to my YouTube channel.</p>
                                        <a href="https://www.youtube.com/@Salatiso" target="_blank" class="text-red-500 hover:text-red-400 transition-colors text-sm"><i class="fab fa-youtube mr-2"></i>Salatiso on YouTube</a>
                                    </div>
                                    <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700">
                                        <h4 class="font-bold text-lg mb-2 text-blue-400 flex items-center"><i class="fas fa-file-contract mr-2"></i>Educational Licensing</h4>
                                        <p class="text-sm">We believe in the power of education. If you wish to use these works for educational purposes, we offer a licensing program that grants free use of at least one title. You can apply to license additional titles every 12 months.</p>
                                        <p class="mt-3 text-sm">For inquiries, contact: <a href="mailto:salatiso@salatiso.com" class="text-green-400 hover:text-green-300">salatiso@salatiso.com</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="text-center p-4 text-gray-500 text-sm">
                        <p>© <span id="currentYear"></span> FLAMEA. All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </main>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="module" src="assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            const bookData = [
                 { 
                    id: 'goliaths-reckoning', 
                    title: "Goliath's Reckoning",
                    imgSrc: 'assets/images/goliath.jpg',
                    textSrc: 'BK-Goliaths_Reckoning.txt',
                    isUpcoming: false,
                    summary: 'A raw, first-hand account of a father\'s battle against a biased Children\'s Court, exposing the systemic discrimination that marginalizes men. This is a tactical guide for fathers fighting to reclaim their rights.',
                    targetAudience: 'For every father who feels sidelined by the system, and for the family that stands with him.'
                 },
                 {
                    id: 'the-unfairness-of-fair-discrimination',
                    title: 'The Unfairness of Fair Discrimination',
                    isUpcoming: true,
                    icon: 'fas fa-balance-scale-left text-purple-400',
                    textSrc: '#',
                    summary: 'This book dismantles the illusion of "fair discrimination," arguing that redress policies have become tools of plunder that punish men and erode the family unit, the very foundation of a strong society.',
                    targetAudience: 'For anyone questioning if collective guilt can ever lead to true justice.'
                 },
                 { 
                    id: 'homeschooling-father', 
                    title: "The Homeschooling Father",
                    imgSrc: 'assets/images/homeschooling_father.jpg',
                    textSrc: 'BK-HomeSchooling_Father.txt',
                    isUpcoming: false,
                    summary: 'A father’s guide to taking control of his children\'s education, rejecting a failing system to embrace homeschooling as an act of empowerment, community building, and preserving family values.',
                    targetAudience: 'For fathers ready to become the primary architects of their children\'s intellectual and moral foundation.'
                 },
                 {
                    id: 'goliaths-stand',
                    title: 'Goliath\'s Stand',
                    isUpcoming: true,
                    icon: 'fas fa-fist-raised text-red-500',
                    textSrc: 'BK-Goliaths_Stand.txt',
                    summary: 'The fight for family equality continues. This upcoming book chronicles the next stage of the legal war against the systemic marginalization of fathers, taking the battle to the Equality Court.',
                    targetAudience: 'For the man who is done asking for fairness and is ready to demand it.'
                 },
                 {
                    id: 'beyond-redress',
                    title: "Beyond Redress",
                    imgSrc: 'assets/images/redress.jpg',
                    textSrc: 'BK-Beyond_Redress.txt',
                    isUpcoming: false,
                    summary: 'A critical look at how South Africa\'s redress policies have failed its children, arguing that true progress lies not in perpetuating discrimination, but in prioritizing the "best interests of the child" to achieve genuine equality.',
                    targetAudience: 'For parents and leaders who believe in building a future based on individual merit, not group identity.'
                 },
                 {
                     id: 'know-yourself',
                     title: "Getting to Know Yourself",
                     imgSrc: 'assets/images/know_yourself.jpg',
                     textSrc: 'BK-Know_Yourself.txt',
                     isUpcoming: false,
                     summary: 'An exploration of Xhosa history and heritage as a source of strength and identity for the South African man. Understand your roots, the journey of your ancestors, and the traditions that forge resilient men.',
                     targetAudience: 'For the man seeking to ground his modern identity in the timeless wisdom of his lineage.'
                 }
            ];

            const carouselWrapper = document.getElementById('carousel-wrapper');
            bookData.forEach(book => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = `
                    <div class="flip-card" id="card-${book.id}">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                ${book.isUpcoming 
                                    ? `<div class="svg-cover w-full h-full bg-gray-800 rounded-lg flex flex-col items-center justify-center p-4 text-center border-2 border-dashed border-gray-600">
                                        <i class="${book.icon} text-6xl mb-4"></i>
                                        <h3 class="text-xl font-bold font-roboto-slab">${book.title}</h3>
                                        <p class="text-yellow-300 mt-2 font-semibold">Coming Soon</p>
                                       </div>`
                                    : `<img src="${book.imgSrc}" alt="${book.title} Cover">`
                                }
                            </div>
                            <div class="flip-card-back">
                                <div>
                                    <h3 class="book-title-back text-xl mb-2">${book.title}</h3>
                                    <p class="text-sm mb-3">${book.summary}</p>
                                    <p class="text-xs text-blue-300 italic">Target Audience: ${book.targetAudience}</p>
                                </div>
                                <a href="book-reader.html?book=${book.textSrc}" class="read-btn ${book.isUpcoming ? 'hidden' : ''}">Read Now</a>
                            </div>
                        </div>
                    </div>
                `;
                carouselWrapper.appendChild(slide);
            });
            
            // Add click listener to flip cards
            document.querySelectorAll('.flip-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('is-flipped');
                });
            });

            const swiper = new Swiper('.swiper', {
                effect: 'coverflow',
                grabCursor: true,
                centeredSlides: true,
                slidesPerView: 3,
                loop: true,
                autoplay: {
                    delay: 4000,
                    disableOnInteraction: false,
                    pauseOnMouseEnter: true,
                },
                coverflowEffect: {
                    rotate: 0,
                    stretch: 80,
                    depth: 200,
                    modifier: 1,
                    slideShadows: false,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                }
            });

            // Expander logic for info box
            document.getElementById('expander-1').addEventListener('click', function(e) {
                const expander = e.currentTarget.parentElement;
                expander.classList.toggle('expanded');
                const content = expander.querySelector('.expander-content');
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });

        });
    </script>
</body>
</html>
