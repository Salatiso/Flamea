<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flamea Book Reader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>

    <style>
        #book-reader-container {
            display: flex;
            height: calc(100vh - 100px);
        }

        #sidebar {
            width: 250px;
            background-color: #1f2937;
            padding: 1rem;
            transition: width 0.3s;
            overflow-y: auto;
        }

        #sidebar.closed {
            width: 0;
            padding: 0;
            overflow: hidden;
        }

        #content-sidebar {
            cursor: pointer;
        }
        
        #reader-main {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #flipbook-container {
            width: 90vw;
            height: 80vh;
            max-width: 1200px;
        }

        #flipbook .page {
            background-color: #fff;
            color: #333;
            font-family: 'Open Sans', sans-serif;
            padding: 20px;
            overflow: auto;
        }
        
        #flipbook .page-wrapper {
            -webkit-perspective: 2000px;
            -moz-perspective: 2000px;
            -ms-perspective: 2000px;
            -o-perspective: 2000px;
            perspective: 2000px;
        }

        #flipbook .hard {
            background: #ccc !important;
            color: #333;
            -webkit-box-shadow: inset 0 0 5px #666;
            -moz-box-shadow: inset 0 0 5px #666;
            -o-box-shadow: inset 0 0 5px #666;
            -ms-box-shadow: inset 0 0 5px #666;
            box-shadow: inset 0 0 5px #666;
            font-weight: bold;
        }

        .toolbar {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
        }
    </style>
</head>

<body class="bg-gray-900 text-gray-200">

    <div id="book-reader-container">
        <aside id="sidebar">
            <h3 class="text-xl font-bold mb-4">iSazisi (Contents)</h3>
            <ul id="content-list" class="space-y-2"></ul>
             <h3 class="text-xl font-bold mt-8 mb-4">Bookmarks & Notes</h3>
            <ul id="bookmarks-list" class="space-y-2"></ul>
        </aside>

        <main id="reader-main">
            <div id="flipbook-container">
                <div id="flipbook">
                    <!-- Book pages will be injected here -->
                </div>
            </div>
             <div class="toolbar">
                <button id="toggle-sidebar-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-bars"></i></button>
                <button id="prev-page-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-chevron-left"></i></button>
                <span id="page-indicator">Page 1</span>
                <button id="next-page-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-chevron-right"></i></button>
                <button id="zoom-in-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-search-plus"></i></button>
                <button id="zoom-out-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-search-minus"></i></button>
                <button id="font-inc-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-font"></i>+</button>
                <button id="font-dec-btn" class="p-2 bg-gray-700 rounded-full"><i class="fas fa-font"></i>-</button>
                <button id="bookmark-btn" class="p-2 bg-gray-700 rounded-full"><i class="far fa-bookmark"></i></button>
            </div>
        </main>
    </div>

     <!-- Pop-up for highlighting -->
    <div id="highlight-popup" class="hidden absolute bg-gray-800 border border-gray-600 p-2 rounded-lg shadow-lg">
        <button id="add-note-btn" class="text-white hover:text-yellow-400 mr-2"><i class="fas fa-sticky-note"></i> Add Note</button>
        <button id="share-btn" class="text-white hover:text-blue-400"><i class="fas fa-share-alt"></i> Share</button>
    </div>

    <!-- Modal for adding notes -->
    <div id="note-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg w-1/3">
            <h3 class="text-xl font-bold mb-4">Add a Note</h3>
            <textarea id="note-input" class="w-full h-32 bg-gray-700 text-white p-2 rounded-md"></textarea>
            <div class="mt-4 flex justify-end gap-2">
                <button id="save-note-btn" class="bg-blue-600 text-white py-2 px-4 rounded-lg">Save</button>
                <button id="cancel-note-btn" class="bg-gray-600 text-white py-2 px-4 rounded-lg">Cancel</button>
            </div>
        </div>
    </div>
    
    <script type="module" src="assets/js/book-reader.js"></script>
</body>
</html>
