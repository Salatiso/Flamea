<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Ideal Tool - Flamea</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        body { font-family: 'Open Sans', sans-serif; }
        .main-container { display: grid; grid-template-columns: 280px 1fr; height: 100vh; width: 100vw; overflow: hidden; }
        .main-content { overflow-y: auto; background-color: #111827; }
        .wizard-step { display: none; }
        .wizard-step.active { display: block; animation: fadeIn 0.5s; }
        .progress-bar-fill { transition: width 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .wizard-option {
            transition: all 0.2s ease-in-out;
            border: 2px solid #4B5563; /* border-gray-600 */
        }
        .wizard-option:hover {
            border-color: #3B82F6; /* border-blue-500 */
            transform: translateY(-4px);
        }
        .wizard-option.selected {
            background-color: #1E40AF; /* bg-blue-800 */
            border-color: #3B82F6; /* border-blue-500 */
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">
    <div class="main-container">
        <!-- Sidebar Placeholder -->
        <div id="sidebar-placeholder"></div>

        <!-- Main Content -->
        <main class="main-content p-8 md:p-12">
            <!-- FIX: Added centering container -->
            <div class="max-w-4xl mx-auto">
                <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl">
                    <div id="wizard-container">
                        <!-- Step 1: Goal -->
                        <div id="step-1" class="wizard-step active">
                             <div class="text-center mb-6">
                                <i class="fas fa-bullseye text-4xl text-teal-400"></i>
                                <h2 class="text-3xl font-bold font-roboto-slab text-white mt-3">What is your main goal right now?</h2>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="wizard-option p-6 rounded-lg cursor-pointer" data-next="2" data-goal="plan">
                                    <h3 class="text-xl font-bold">Create a Parenting Plan</h3>
                                    <p class="text-gray-400 mt-1">Build a formal or informal agreement for co-parenting.</p>
                                </div>
                                <div class="wizard-option p-6 rounded-lg cursor-pointer" data-next="3" data-goal="track">
                                    <h3 class="text-xl font-bold">Track Contributions & Events</h3>
                                    <p class="text-gray-400 mt-1">Log expenses, time, and important interactions.</p>
                                </div>
                                <div class="wizard-option p-6 rounded-lg cursor-pointer" data-next="4" data-goal="document">
                                    <h3 class="text-xl font-bold">Find a Legal Document</h3>
                                    <p class="text-gray-400 mt-1">Get affidavits, official complaints, or letter templates.</p>
                                </div>
                                <div class="wizard-option p-6 rounded-lg cursor-pointer" data-next="5" data-goal="resource">
                                    <h3 class="text-xl font-bold">Find Help Near Me</h3>
                                    <p class="text-gray-400 mt-1">Locate Family Advocates, NGOs, or social services.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Plan Type -->
                        <div id="step-2" class="wizard-step">
                            <h2 class="text-2xl font-bold text-center mb-6">What kind of plan do you need?</h2>
                            <div class="space-y-4">
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="plan-builder">
                                    <h3 class="text-lg font-bold">Comprehensive Parenting Plan</h3>
                                    <p class="text-gray-400 text-sm">A detailed, court-ready plan covering all aspects of co-parenting.</p>
                                </div>
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="communication-plan">
                                    <h3 class="text-lg font-bold">Communication Plan</h3>
                                    <p class="text-gray-400 text-sm">A simple agreement focused on how you and the co-parent will communicate.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Tracking Type -->
                        <div id="step-3" class="wizard-step">
                            <h2 class="text-2xl font-bold text-center mb-6">What do you need to track?</h2>
                            <div class="space-y-4">
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="activity-tracker">
                                    <h3 class="text-lg font-bold">General Activities & Contributions</h3>
                                    <p class="text-gray-400 text-sm">Log time spent, financial contributions, and day-to-day events.</p>
                                </div>
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="dispute-tracker">
                                    <h3 class="text-lg font-bold">Disputes & Incidents</h3>
                                    <p class="text-gray-400 text-sm">Keep a secure, private log of conflicts or issues for your records.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Document Type -->
                        <div id="step-4" class="wizard-step">
                            <h2 class="text-2xl font-bold text-center mb-6">What type of document?</h2>
                             <div class="space-y-4">
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="forms-affidavits">
                                    <h3 class="text-lg font-bold">Affidavits</h3>
                                    <p class="text-gray-400 text-sm">General affidavits or specific templates for legal statements.</p>
                                </div>
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="forms-complaints">
                                    <h3 class="text-lg font-bold">Official Complaints</h3>
                                    <p class="text-gray-400 text-sm">Templates for lodging complaints with bodies like the Magistrate's Commission or SAPS.</p>
                                </div>
                                 <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="forms-agreements">
                                    <h3 class="text-lg font-bold">Agreements & Letters</h3>
                                    <p class="text-gray-400 text-sm">Draft co-habitation agreements, child support agreements, or formal letters.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 5: Resource Type -->
                        <div id="step-5" class="wizard-step">
                             <h2 class="text-2xl font-bold text-center mb-6">What resource are you looking for?</h2>
                             <div class="space-y-4">
                                <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="locator-advocate">
                                    <h3 class="text-lg font-bold">Family Advocate</h3>
                                    <p class="text-gray-400 text-sm">Find the Office of the Family Advocate nearest to you.</p>
                                </div>
                                 <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="locator-ngo">
                                    <h3 class="text-lg font-bold">Father & Family NGOs</h3>
                                    <p class="text-gray-400 text-sm">Locate non-profits that support fathers and children.</p>
                                </div>
                                 <div class="wizard-option p-5 rounded-lg cursor-pointer" data-tool="locator-court">
                                    <h3 class="text-lg font-bold">Court or Legal Aid</h3>
                                    <p class="text-gray-400 text-sm">Find your local Children's Court or Legal Aid office.</p>
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    <!-- Results -->
                    <div id="results-container" class="wizard-step">
                         <div class="text-center">
                            <i class="fas fa-wrench text-4xl text-teal-400"></i>
                            <h2 class="text-3xl font-bold font-roboto-slab text-white mt-3">Recommended Tools</h2>
                            <p class="text-gray-300">Based on your selection, here are the best tools for you:</p>
                        </div>
                        <div id="recommendations" class="space-y-4 my-6">
                            <!-- Recommendations will be injected here -->
                        </div>
                        <a href="tools.html" class="mt-8 bg-teal-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-teal-700 transition-colors inline-block">Explore All Tools</a>
                    </div>
                    
                     <!-- Navigation -->
                    <div class="mt-8 pt-4 border-t border-gray-700 flex justify-between items-center">
                        <button id="back-btn" class="text-gray-400 hover:text-white disabled:opacity-50" disabled>&larr; Back</button>
                        <a href="tools.html" class="text-sm text-red-500 hover:text-red-400">Cancel</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="assets/js/tool-assessment.js"></script>
    <script src="assets/js/sidebar-loader.js"></script>
    <script type="module" src="assets/js/main.js"></script>
    <script type="module" src="assets/js/auth.js"></script>
</body>
</html>
